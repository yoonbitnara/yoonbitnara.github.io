---
title: "도박 vs 투자"
date: 2025-09-30
categories: Mathematical-Trading
tags: [gambling-theory, investment, probability, expected-value, kelly-formula]
author: pitbull terrier
---

# 카지노와 주식시장의 수학적 차이

카지노에서 블랙잭을 하는 것과 주식에 투자하는 것은 얼마나 다를까? 겉보기에는 둘 다 돈을 걸고 결과를 기다리는 게임처럼 보인다. 하지만 수학적으로 보면 이 둘은 완전히 다른 세계다. 도박은 설계상 당신이 이길 확률이 낮게 만들어져 있지만, 투자는 올바른 수학적 접근으로 양의 기대값을 만들 수 있다. 오늘은 이 차이점을 확률과 통계로 분석해보자.

## 도박이론의 기본: 기대값(Expected Value)

도박이론의 핵심은 **기대값(Expected Value)**이다. 기대값은 여러 가능한 결과들의 가중평균을 의미한다.

```
$$E = \sum_{i=1}^{n} p_i \times x_i$$
```

여기서 $p_i$는 각 결과의 확률이고, $x_i$는 각 결과의 값이다.

간단한 예시로 동전 던지기를 해보자. 앞면이 나오면 2원을 받고, 뒷면이 나오면 1원을 잃는다고 하자.

- 앞면 확률 50% (0.5)
- 뒷면 확률 50% (0.5)
- 앞면 결과 +2원
- 뒷면 결과 -1원

기대값 계산
```
$$E = 0.5 \times 2 + 0.5 \times (-1) = 1 - 0.5 = 0.5$$
```

이 게임의 기대값은 0.5원이다. 즉, 한 번 할 때마다 평균적으로 0.5원을 벌 수 있다는 뜻이다.

## 카지노 게임의 함정: 음의 기대값

하지만 실제 카지노 게임들은 완전히 다르다. 카지노는 수익을 내기 위해 모든 게임의 기대값을 음수로 설계했다. 이게 바로 도박이 위험한 이유다.

### 룰렛의 현실

룰렛을 예로 들어보자. 미국식 룰렛에는 0과 00이 있어서 총 38개의 숫자가 있다. 빨간색에 걸면 2배를 받는다고 하자.

- 빨간색 숫자 18개
- 검은색/녹색 숫자 20개  
- 빨간색에 걸었을 때 이길 확률 18/38 = 0.474
- 빨간색에 걸었을 때 질 확률 20/38 = 0.526

1원을 걸었을 때의 기대값
```
$$E = 0.474 \times 1 + 0.526 \times (-1) = 0.474 - 0.526 = -0.052$$
```

즉, 한 번 할 때마다 평균적으로 0.052원(약 5.2%)을 잃는다. 이것이 바로 카지노의 **하우스 엣지(House Edge)**다.

### 실제 도박의 손실률

더 구체적인 수치를 보자. 일반적인 카지노 게임들의 하우스 엣지는 다음과 같다

- **블랙잭 (기본 전략)** 0.5%
- **바카라 (뱅커 베팅)** 1.06%
- **룰렛 (미국식)** 5.26%
- **룰렛 (유럽식)** 2.7%
- **슬롯머신** 2-15% (게임마다 다름)
- **복권** 50-80% (하우스 엣지)

이게 얼마나 무서운 수치인지 계산해보자. 100만원을 가진 사람이 블랙잭을 한다면

```
예상 손실 = 1,000,000원 × 0.5% = 5,000원
```

하루에 10게임만 해도 50,000원을 잃는다. 한 달이면 150만원, 1년이면 1,825만원을 잃는다. 원금 100만원이 모두 사라지는 건 시간문제다.

## 투자의 수학적 우위: 양의 기대값

도박과 달리 투자에서는 상황이 완전히 다르다. 올바른 접근을 한다면 양의 기대값을 만들 수 있다. 같은 100만원을 투자에 쓴다면 어떻게 될까?

### 복리의 마법

투자에서 가장 강력한 무기는 **복리(Compound Interest)**다. 복리 공식은 다음과 같다:

```
$$A = P(1 + r)^n$$
```

여기서:
- $A$: 최종 금액
- $P$: 원금  
- $r$: 연간 수익률
- $n$: 기간(년)

### 실제 투자 수익률 비교

역사적 데이터를 보면
- **S&P 500 (미국 주식)** 연평균 10.5%
- **한국 KOSPI** 연평균 8.2% 
- **글로벌 채권** 연평균 5.1%
- **부동산 (REITs)** 연평균 9.3%

같은 100만원을 S&P 500에 투자한다면

```
연간 예상 수익 = 1,000,000원 × 10.5% = 105,000원
```

하루에 약 288원씩 벌어들인다. 도박에서는 하루 5,000원씩 잃는데, 투자에서는 하루 288원씩 번다. 방향이 완전히 반대다.

### 장기 투자의 위력

30년 투자 시의 결과를 계산해보자. 복리 공식을 사용하면

**공식 설명** A = P × (1 + r)^n
- A 최종 금액
- P 원금 (1,000,000원)  
- r 연간 수익률 (10.5% = 0.105)
- n 투자 기간 (30년)

```
$$A = 1,000,000 \times (1.105)^{30} = 19,848,000$$
```

30년 후 약 1,985만원이 된다. 100만원이 20배로 불어난다. 도박에서는 원금이 사라지지만, 투자에서는 20배로 불어난다.

## 도박적 투자 vs 수학적 투자

이제 핵심을 파악했다. 도박은 구조적으로 불리하고, 투자는 구조적으로 유리하다. 하지만 여기서 함정이 있다. 투자도 잘못 접근하면 도박이 될 수 있다.

### 단기 매매의 함정

많은 사람들이 "주식도 도박이 아닌가?"라고 생각한다. 맞다. 단기 매매는 본질적으로 도박과 같다.

하루 만에 10% 수익을 노리고 주식을 사고판다고 하자. 이때의 기대값을 계산해보자:

- 성공 확률 50% (추측)
- 성공 시 수익 +10%
- 실패 확률 50%
- 실패 시 손실 -10%

**기대값 계산**
- 성공 시: 50% 확률 × 10% 수익 = 5%
- 실패 시: 50% 확률 × (-10%) 손실 = -5%
- 합계: 5% + (-5%) = 0%

```
$$E = 0.5 \times 0.1 + 0.5 \times (-0.1) = 0.05 - 0.05 = 0$$
```

거래 비용 0.3%를 고려하면
```
$$E = 0 - 0.003 = -0.003$$
```

거래 비용 0.3%만 고려해도 음의 기대값이 된다. 이는 블랙잭의 하우스 엣지 0.5%와 비슷한 수준이다.

### 수학적 투자의 우위

반면 장기 투자는 수학적으로 유리한 구조를 가진다. 역사적 데이터를 보면

- 1년 투자 성공 확률 70%
- 성공 시 평균 수익 +10%
- 실패 확률 30%  
- 실패 시 평균 손실 -5%

**기대값 계산**
- 성공 시: 70% 확률 × 10% 수익 = 7%
- 실패 시: 30% 확률 × (-5%) 손실 = -1.5%
- 합계: 7% + (-1.5%) = 5.5%

```
$$E = 0.7 \times 0.1 + 0.3 \times (-0.05) = 0.07 - 0.015 = 0.055$$
```

연간 5.5%의 양의 기대값을 가진다. 도박과 투자의 차이가 여기에 있다.

## Kelly Formula: 최적 포지션 사이징

수학적 투자에서 중요한 것은 얼마나 걸지 결정하는 것이다. Kelly Formula는 이를 수학적으로 계산해준다.

```
$$f^* = \frac{bp - q}{b}$$
```

여기서
- $f^*$ 최적 투자 비율
- $b$ 배당률 (이길 때 받는 배수)
- $p$ 이길 확률
- $q$ 질 확률 ($q = 1 - p$)

예시: 60% 확률로 1.5배를 받는 게임
```
$$f^* = \frac{1.5 \times 0.6 - 0.4}{1.5} = \frac{0.9 - 0.4}{1.5} = \frac{0.5}{1.5} = 0.33$$
```

자산의 33%를 투자하는 것이 최적이다.

### 투자에서의 Kelly Formula 적용

주식 투자에서 Kelly Formula를 적용해보자.

- 주식 상승 확률 55%
- 상승 시 수익률 15%
- 하락 확률 45%
- 하락 시 손실률 10%

배당률 계산: 15% ÷ 10% = 1.5

```
$$f^* = \frac{1.5 \times 0.55 - 0.45}{1.5} = \frac{0.825 - 0.45}{1.5} = \frac{0.375}{1.5} = 0.25$$
```

포트폴리오의 25%를 해당 주식에 투자하는 것이 수학적으로 최적이다.

## 실제 계산: 10년 후 결과 비교

이제 구체적인 숫자로 비교해보자. 100만원을 가지고 있다고 가정하자.

### 도박 시나리오
100만원을 들고 블랙잭을 한다고 하자
- 하우스 엣지 0.5%
- 연간 예상 손실 100만원 × 0.5% = 5,000원
- 10년 후 예상 금액 100만원 × (0.995)^10 = 951,000원

### 투자 시나리오  
같은 100만원을 S&P 500에 투자한다고 하자
- 연간 예상 수익 100만원 × 10.5% = 105,000원
- 10년 후 예상 금액 100만원 × (1.105)^10 = 2,708,000원

### 10년 후 최종 결과

**도박 (블랙잭)**
복리 공식으로 계산하면
- 원금 1,000,000원
- 연간 손실률 0.5% = 0.005
- 투자 기간 10년

```
$$A = 1,000,000 \times (0.995)^{10} = 951,000$$
```
→ 49,000원 손실

**투자 (S&P 500)**
복리 공식으로 계산하면
- 원금 1,000,000원  
- 연간 수익률 10.5% = 0.105
- 투자 기간 10년

```
$$A = 1,000,000 \times (1.105)^{10} = 2,708,000$$
```
→ 1,708,000원 수익

**차이: 1,757,000원**이다. 10년 후 투자는 도박보다 2.85배 많은 금액을 만들어낸다.

## 리스크 관리의 차이

### 도박에서의 리스크
- 하우스 엣지로 인한 구조적 불리
- 감정적 의사결정
- 빨리 잃을수록 더 많이 걸려는 심리

### 투자에서의 리스크 관리
- 포트폴리오 분산
- 시간 분산 (달러 코스트 평균법)
- 손절매/익절매 규칙

## 실제 적용: 개발자의 투자 전략

개발자로서 수학적 사고를 투자에 적용해보자

### 1. 기대값 기반 의사결정
```python
def calculate_expected_value(probabilities, outcomes):
    """
    기대값 계산 함수
    """
    return sum(p * x for p, x in zip(probabilities, outcomes))

# 예시: 3가지 시나리오
probabilities = [0.3, 0.5, 0.2]  # 확률
outcomes = [0.15, 0.08, -0.05]   # 수익률

expected_return = calculate_expected_value(probabilities, outcomes)
print(f"기대 수익률: {expected_return:.2%}")
```

### 2. Kelly Formula 구현
```python
def kelly_formula(win_prob, win_return, loss_return):
    """
    Kelly Formula 계산
    """
    b = win_return / abs(loss_return)  # 배당률
    p = win_prob
    q = 1 - p
    
    f_star = (b * p - q) / b
    return max(0, f_star)  # 음수 방지

# 예시
optimal_position = kelly_formula(0.6, 0.15, -0.10)
print(f"최적 포지션 비율: {optimal_position:.1%}")
```

### 3. 포트폴리오 백테스팅
```python
import numpy as np

def backtest_portfolio(returns, weights, periods=252):
    """
    포트폴리오 백테스팅
    """
    portfolio_returns = np.sum(returns * weights, axis=1)
    cumulative_returns = np.cumprod(1 + portfolio_returns)
    
    return cumulative_returns

# 예시 데이터
np.random.seed(42)
stock_returns = np.random.normal(0.0005, 0.02, 252)  # 일일 수익률
bond_returns = np.random.normal(0.0002, 0.005, 252)

returns = np.column_stack([stock_returns, bond_returns])
weights = np.array([0.7, 0.3])  # 70% 주식, 30% 채권

portfolio_value = backtest_portfolio(returns, weights)
print(f"연간 수익률: {(portfolio_value[-1] - 1) * 100:.2f}%")
```

## 도박과 투자의 심리적 차이

### 도박의 심리
- **즉시 만족** 당장의 결과에 집중
- **손실 회피 편향** 잃은 돈을 되찾으려 함
- **확증 편향** 자신의 선택을 뒷받침하는 정보만 수집

### 투자의 심리
- **장기적 사고** 미래 가치에 집중
- **계획적 접근** 체계적인 전략 수립
- **데이터 기반** 객관적 정보 활용

## 실천적 교훈

### 1. 도박하지 말고 투자하라
- 단기 매매 대신 장기 투자
- 감정적 의사결정 대신 수학적 분석
- 운에 의존하지 말고 확률에 기반한 전략

### 2. 기대값을 항상 계산하라
- 모든 투자 결정 전에 기대값 계산
- 리스크 대비 수익률 평가
- 거래 비용까지 고려한 실제 수익률 계산

### 3. Kelly Formula 활용
- 포지션 사이징에 Kelly Formula 적용
- 과도한 레버리지 피하기
- 리스크 관리 우선

### 4. 복리의 힘을 믿어라
- 장기 투자로 복리 효과 극대화
- 일시적 변동성에 흔들리지 않기
- 꾸준한 투자 습관 형성

## 수학이 만드는 차이

도박과 투자의 차이는 단순히 운명의 차이가 아니다. 수학적 구조의 차이다.

### 도박이 위험한 이유 (구체적 수치)

**도박**은 설계상 당신이 이길 확률이 낮게 만들어져 있다
- 블랙잭 하우스 엣지 0.5% → 100만원으로 하루 10게임 시 5만원 손실
- 룰렛 하우스 엣지 5.26% → 100만원으로 하루 10게임 시 52.6만원 손실  
- 복권 하우스 엣지 50-80% → 100만원으로 하루 10게임 시 500-800만원 손실

모든 것이 음의 기대값을 만들도록 설계되어 있다. 100만원은 시간이 지날수록 줄어들고 결국 사라진다.

### 투자가 유리한 이유 (구체적 수치)

**투자**는 올바른 접근을 한다면 양의 기대값을 만들 수 있다
- S&P 500 연평균 수익률 10.5% → 100만원으로 하루 288원 수익
- 10년 투자 시 100만원 → 271만원 (171만원 수익)
- 30년 투자 시 100만원 → 1,985만원 (1,885만원 수익)

장기 우상향하는 시장 구조, 복리의 마법, 그리고 체계적인 리스크 관리를 통해 수학적으로 유리한 게임으로 만들 수 있다.

### 핵심 메시지

**감에 의존하지 말고 수학에 의존하라**. 기대값을 계산하고, Kelly Formula로 포지션을 조절하고, 복리의 힘을 믿고 장기적으로 접근하라. 그러면 도박이 아닌 진정한 투자가 될 것이다.

개발자로서 우리는 이미 논리적 사고와 수학적 분석에 익숙하다. 이 능력을 투자에도 적용해보자. 코드를 작성할 때처럼, 투자도 체계적이고 논리적으로 접근하면 성공할 수 있다.

**도박은 확률적으로 불리한 게임, 투자는 수학적으로 설계할 수 있는 게임이다.**

---

*이 글은 개인적인 투자 경험과 학습 내용을 바탕으로 작성되었습니다. 투자에 대한 모든 결정은 본인의 책임하에 이루어져야 하며, 이 글의 내용은 투자 권유가 아닙니다.*
