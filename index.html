---
layout: default
---

<style>
/* ====== NEW BADGE ====== */
@keyframes newBadgeAnimation {
  0%   { transform: translateY(-50%) scale(1);   background: #ff6b35; }
  50%  { transform: translateY(-50%) scale(1.3); background: #d63031; }
  100% { transform: translateY(-50%) scale(1);   background: #ff6b35; }
}
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%,100%{ opacity: .3; }
}
.new-badge{
  display:inline-block;background:linear-gradient(45deg,#ff6b35,#d63031);color:#fff;
  font-size:.6rem;font-weight:700;padding:2px 6px;border-radius:10px;margin-left:8px;
  box-shadow:0 2px 8px rgba(255,107,53,.4);vertical-align:middle;cursor:pointer;
  transition:all .3s ease;z-index:10;animation:newBadgeAnimation 1s infinite ease-in-out, blink .3s infinite !important;
}

/* ====== REPO-LIKE LAYOUT (원본 스타일 클래스 유지) ====== */
.section.github-style-section .repo-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.section.github-style-section .repo-title h2{margin:0 0 4px 0}
.file-explorer{border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}
.explorer-header{display:flex;justify-content:space-between;gap:12px;align-items:center;padding:12px 16px;background:#fafafa;border-bottom:1px solid #eee}
.breadcrumb{display:flex;gap:8px;align-items:center}
.breadcrumb-item{font-weight:600}
.search-container{min-width:280px;max-width:420px;width:100%}
.search-box{display:flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid #e5e7eb;border-radius:10px;background:#fff}
.search-box input{border:none;outline:none;width:100%}
.file-list{padding:8px}
.file-item{display:grid;grid-template-columns:24px 1fr auto auto;gap:12px;align-items:center;padding:10px 12px;border-bottom:1px solid #f1f5f9}
.file-item:last-child{border-bottom:none}
.file-item .file-icon{display:flex;justify-content:center}
.folder-item{background:#fff}
.folder-contents{display:none;background:#fcfcfc}
.folder-item.open + .folder-contents{display:block}
.file-name a{text-decoration:none;font-weight:600}
.file-meta{color:#6b7280;font-size:.9rem}
.file-date{color:#64748b;font-size:.9rem;white-space:nowrap}
.toggle{cursor:pointer}
.badge{display:inline-block;padding:2px 6px;border-radius:8px;background:#eef2ff;color:#3730a3;font-size:.72rem;margin-left:8px}
.empty{color:#94a3b8}
</style>

{%- comment -%}
  공통 유틸: 날짜 차이 계산 (초 → 일)
  - today_days: 오늘 0시 기준(UTC→KST는 _config.yml timezone으로 해결)
  - post_days: 게시글 날짜를 일 단위로 바꿈
  - diff_days = today_days - post_days
{%- endcomment -%}
{%- assign __today_days = 'now' | date: '%s' | divided_by: 86400 | floor -%}

{%- comment -%}
  label_for_date: diff_days를 한국어 라벨로 변환
{%- endcomment -%}
{% capture label_for_date %}
{%- assign __diff = diff_days -%}
{%- if __diff == 0 -%}오늘
{%- elsif __diff == 1 -%}어제
{%- elsif __diff < 7 -%}{{ __diff }}일 전
{%- elsif __diff < 30 -%}{% assign __weeks = __diff | divided_by: 7 %}{{ __weeks }}주 전
{%- elsif __diff < 365 -%}{% assign __months = __diff | divided_by: 30 %}{{ __months }}개월 전
{%- else -%}{% assign __years = __diff | divided_by: 365 %}{{ __years }}년 전
{%- endif -%}
{% endcapture %}

{%- comment -%}
  함수 흉내 1: 카테고리 최신일 라벨
{%- endcomment -%}
{% assign all_categories = "Algorithm|Bigdata|Code-Quality|ComputerStructure|DiscreteMathematics|HtmlCss|Internet|Java|Jdbc|Js|Linux|Mysql|Python|R|Servlet|Spring|Til|Mathematical-Trading" | split: "|" %}

{%- comment -%}
  검색/필터 UI + 깃헙 뷰
{%- endcomment -%}
<section class="section github-style-section" id="repository">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">

        <div class="repo-header">
          <div class="repo-title">
            <h2><i class="fa fa-folder"></i> PitBull Terrier Devlog</h2>
            <p>만약 노력이 재능이라면, 내 재능은 어딜가도 꿀리지 않는다.</p>
          </div>
        </div>

        <div class="repo-content">
          <div class="file-explorer">

            <div class="explorer-header">
              <div class="breadcrumb">
                <span class="breadcrumb-item"><i class="fa fa-home"></i> 윤 빛 나 라</span>
                <span class="breadcrumb-separator">/</span>
                <a href="https://github.com/yoonbitnara" target="_blank" class="breadcrumb-item github-link">
                  <i class="fab fa-github"></i> GitHub
                </a>
              </div>

              <div class="search-container">
                <div class="search-box">
                  <i class="fa fa-search"></i>
                  <input type="text" id="searchInput" placeholder="게시글 검색 (제목/카테고리)..." />
                </div>
                <div class="search-results" id="searchResults"></div>
              </div>
            </div>

            <div class="file-list" id="fileList">

              {%- comment -%}
                폴더 렌더러:
                - 각 카테고리 최신 포스트일 기준 라벨
                - 최근 2일 이내 새 글 있으면 N 뱃지
                - 내부 글 리스트는 최신순
              {%- endcomment -%}

              {%- for cat in all_categories -%}
                {%- assign cat_handle = cat -%}
                {%- assign posts_in_cat = site.categories[cat_handle] | sort: 'date' | reverse -%}

                {%- if posts_in_cat and posts_in_cat.size > 0 -%}
                  {%- assign latest_post = posts_in_cat.first -%}
                  {%- assign __post_days = latest_post.date | date: '%s' | divided_by: 86400 | floor -%}
                  {%- assign diff_days = __today_days | minus: __post_days -%}
                  {%- assign latest_label = label_for_date | strip -%}

                  {%- comment -%} 최근 2일 이내 새 글 수 계산 {%- endcomment -%}
                  {%- assign recent_count = 0 -%}
                  {%- for p in posts_in_cat -%}
                    {%- assign __p_days = p.date | date: '%s' | divided_by: 86400 | floor -%}
                    {%- assign __d = __today_days | minus: __p_days -%}
                    {%- if __d <= 2 -%}
                      {%- assign recent_count = recent_count | plus: 1 -%}
                    {%- endif -%}
                  {%- endfor -%}

                  <div class="file-item folder-item toggle" data-folder="{{ cat_handle | downcase }}">
                    <div class="file-icon"><i class="fa fa-folder"></i></div>
                    <div class="file-name">
                      {%- case cat_handle -%}
                        {%- when 'Algorithm' -%}알고리즘
                        {%- when 'Bigdata' -%}빅데이터
                        {%- when 'Code-Quality' -%}Code Quality
                        {%- when 'ComputerStructure' -%}컴퓨터구조
                        {%- when 'DiscreteMathematics' -%}이산수학
                        {%- when 'HtmlCss' -%}html
                        {%- when 'Internet' -%}인터넷
                        {%- when 'Java' -%}java
                        {%- when 'Jdbc' -%}jdbc
                        {%- when 'Js' -%}js
                        {%- when 'Linux' -%}리눅스
                        {%- when 'Mysql' -%}sql
                        {%- when 'Python' -%}python
                        {%- when 'R' -%}r
                        {%- when 'Servlet' -%}서블릿
                        {%- when 'Spring' -%}spring
                        {%- when 'Til' -%}TIL
                        {%- when 'Mathematical-Trading' -%}수학적 트레이딩
                        {%- else -%}{{ cat_handle }}
                      {%- endcase -%}
                      {%- if recent_count > 0 -%}
                        <span class="new-badge">N</span>
                      {%- endif -%}
                    </div>
                    <div class="file-meta">{{ posts_in_cat.size }} 게시물</div>
                    <div class="file-date">{{ latest_label }}</div>
                  </div>

                  <div class="folder-contents" id="{{ cat_handle | downcase }}-contents">
                    {%- for post in posts_in_cat -%}
                      {%- assign __this_days = post.date | date: '%s' | divided_by: 86400 | floor -%}
                      {%- assign diff_days = __today_days | minus: __this_days -%}
                      {%- capture row_label -%}{{ label_for_date | strip }}{%- endcapture -%}

                      <div class="file-item">
                        <div class="file-icon"><i class="fa fa-file-text"></i></div>
                        <div class="file-name">
                          <a href="{{ post.url }}">{{ post.title }}</a>
                          {%- if diff_days <= 2 -%}<span class="badge">최근</span>{%- endif -%}
                        </div>
                        <div class="file-meta">
                          {{ post.categories | join: ", " }}
                        </div>
                        <div class="file-date">{{ row_label }}</div>
                      </div>
                    {%- endfor -%}
                  </div>

                {%- else -%}
                  <div class="file-item folder-item">
                    <div class="file-icon"><i class="fa fa-folder"></i></div>
                    <div class="file-name">
                      {{ cat_handle }} <span class="badge empty">게시물 없음</span>
                    </div>
                    <div class="file-meta">0 게시물</div>
                    <div class="file-date">—</div>
                  </div>
                {%- endif -%}

              {%- endfor -%}

            </div><!-- /file-list -->
          </div><!-- /file-explorer -->

        </div><!-- /repo-content -->
      </div>
    </div>
  </div>
</section>

<script>
/* 펼치기/접기 + 검색(화살표 함수 사용 안 함) */
(function(){
  function qs(sel){ return document.querySelector(sel); }
  function qsa(sel){ return Array.prototype.slice.call(document.querySelectorAll(sel)); }

  function toggleFolder(e){
    var item = e.target.closest('.folder-item');
    if(!item) return;
    if(!item.classList.contains('toggle')) return;

    var isOpen = item.classList.contains('open');
    // 같은 그룹 접기 방지 없이 개별 토글
    if(isOpen){ item.classList.remove('open'); }
    else { item.classList.add('open'); }

    var id = item.getAttribute('data-folder');
    var content = qs('#' + id + '-contents');
    if(content){
      if(isOpen){ content.style.display = 'none'; }
      else { content.style.display = 'block'; }
    }
  }

  function handleSearch(){
    var keyword = qs('#searchInput').value.trim().toLowerCase();
    var items = qsa('.file-item');
    if(keyword.length === 0){
      // 초기 상태: 폴더만 표시 (컨텐츠는 상태 유지)
      items.forEach(function(el){
        // 아무 것도 안 함 (현재 펼침 상태 유지)
        el.style.display = '';
      });
      return;
    }
    // 제목/카테고리/라벨 텍스트에서 검색
    items.forEach(function(el){
      var nameEl = el.querySelector('.file-name');
      var metaEl = el.querySelector('.file-meta');
      var text = '';
      if(nameEl) text += nameEl.textContent.toLowerCase() + ' ';
      if(metaEl) text += metaEl.textContent.toLowerCase();
      el.style.display = text.indexOf(keyword) > -1 ? '' : 'none';
    });
  }

  document.addEventListener('click', toggleFolder);
  var si = qs('#searchInput');
  if(si){
    si.addEventListener('input', handleSearch);
  }
})();
</script>
